@import '@angular/material/prebuilt-themes/indigo-pink.css';
@import '@angular/material/prebuilt-themes/indigo-pink.css';

/* Ensure root occupies full viewport and remove page-level scroll */
html,
body,
app-root {
  height: 100%;
}

body {
  margin: 0;
  min-height: 100vh;
  background: linear-gradient(90deg, #06b6d4 0%, #3b82f6 100%); /* blue gradient */
  overflow: hidden; /* prevent browser scrollbar on login page */
}

/* Theme variables */
:root {
  --bg: linear-gradient(90deg, #06b6d4 0%, #3b82f6 100%);
  --surface: #ffffff;
  --text: #0f172a;
  --muted: #666666;
  --card-gradient: linear-gradient(180deg, #ffffff 0%, #f7fbff 100%);
  --primary-grad: linear-gradient(90deg, #3b82f6, #06b6d4);
}

/* Dark theme overrides */
.dark-theme {
  --bg: linear-gradient(180deg, #071124 0%, #0b2536 100%);
  --surface: #0b1220;
  --text: #e6eef8;
  --muted: #9aa6b2;
  --card-gradient: linear-gradient(180deg, #071124 0%, #0b1b2a 100%);
  --primary-grad: linear-gradient(90deg, #075985, #043a4a);
  color-scheme: dark;
}

/* Apply variables */
body {
  background: var(--bg);
  color: var(--text);
}
.table-wrap {
  background: var(--card-gradient) !important;
}
.cards-title,
.topbar-root {
  color: var(--text) !important;
}
.primary-btn {
  background: var(--primary-grad) !important;
}

/* Stronger dark theme UI overrides */
.dark-theme body,
.dark-theme app-root,
.dark-theme .dashboard-container,
.dark-theme .dashboard-content {
  background: #060607; /* near-black */
  color: var(--text);
}

.dark-theme .dashboard-sidenav,
.dark-theme mat-sidenav,
.dark-theme .topbar-root {
  background: #0a0b0f !important;
  color: var(--text) !important;
}

.dark-theme mat-card,
.dark-theme .table-wrap,
.dark-theme .cards-section,
.dark-theme .users-section {
  background: #0b0c10 !important;
  color: var(--text) !important;
  box-shadow: none !important;
}

.dark-theme .mat-header-row.table-header {
  background: linear-gradient(90deg, rgba(255, 255, 255, 0.03), rgba(255, 255, 255, 0.01));
}

.dark-theme .mat-header-cell,
.dark-theme .mat-cell,
.dark-theme .cards-title {
  color: var(--text) !important;
}

.dark-theme .mat-row.table-row:nth-child(even) {
  background: rgba(255, 255, 255, 0.01) !important;
}

.dark-theme .popup-message {
  background: #0e1620;
  color: var(--text);
}

/* Footer dark mode */
.dark-theme .app-footer,
.dark-theme .footer-content {
  background: #07080a !important;
  color: var(--text) !important;
}

/* Table lines in dark mode */
.dark-theme .modern-table .mat-header-row.table-header .mat-header-cell {
  border-bottom: 1px solid rgba(255, 255, 255, 0.08) !important;
}
.dark-theme .modern-table .mat-row.table-row .mat-cell {
  border-bottom: 1px solid rgba(255, 255, 255, 0.04) !important;
}

/* Ensure modern-table uses variables globally (light fallbacks provided) */
.modern-table {
  background: var(--table-bg, transparent);
  color: var(--text, #0f172a);
}

.modern-table .mat-header-row.table-header .mat-header-cell {
  background: var(
    --header-cell-bg,
    linear-gradient(90deg, rgba(14, 165, 233, 0.12), rgba(6, 182, 212, 0.08))
  );
  color: var(--header-text, var(--text));
}

.modern-table .mat-row.table-row .mat-cell {
  background: var(--row-bg, transparent);
  color: var(--text, #0f172a);
}

/* Dark mode stronger fallbacks in case components use deep Material classes */
.dark-theme .modern-table,
.dark-theme .modern-table .mat-row,
.dark-theme .modern-table .mat-header-row {
  background: transparent !important;
}

.dark-theme .modern-table .mat-header-row.table-header .mat-header-cell {
  background: rgba(255, 255, 255, 0.02) !important;
  color: var(--text) !important;
}

.dark-theme .modern-table .mat-row.table-row .mat-cell {
  color: var(--text) !important;
}

/* Sidenav icons and labels in dark mode */
.dark-theme .dashboard-sidenav,
.dark-theme .dashboard-sidenav .mat-list-item,
.dark-theme mat-sidenav {
  background: #0a0b0f !important;
  color: var(--text) !important;
}

.dark-theme .dashboard-sidenav .mat-list-item .mat-icon,
.dark-theme .dashboard-sidenav mat-icon {
  color: var(--text) !important; /* make icons light */
}

.dark-theme .dashboard-sidenav .mat-list-item span,
.dark-theme .dashboard-sidenav span {
  color: var(--text) !important; /* make labels light */
}

/* Ensure selected/active item still shows the blue accent but on dark surface */
.dark-theme .dashboard-sidenav .mat-list-item.active-section,
.dark-theme .dashboard-sidenav a[aria-current='page'] {
  background: linear-gradient(90deg, rgba(37, 99, 235, 0.08), rgba(2, 132, 199, 0.04)) !important;
  border-left: 4px solid #2563eb !important;
  color: var(--text) !important;
}

.dark-theme .dashboard-sidenav .mat-list-item.active-section mat-icon,
.dark-theme .dashboard-sidenav a[aria-current='page'] mat-icon {
  color: #e6eef8 !important;
}

/* Extra-specific fallbacks for Material table elements to ensure dark theme applies */
.dark-theme mat-table,
.dark-theme .mat-table,
.dark-theme .modern-table {
  background: var(--table-bg, transparent) !important;
  color: var(--text) !important;
}

.dark-theme th.mat-header-cell,
.dark-theme .mat-header-cell,
.dark-theme mat-header-cell {
  background: rgba(255, 255, 255, 0.02) !important;
  color: var(--text) !important;
  border-bottom: 1px solid rgba(255, 255, 255, 0.06) !important;
}

.dark-theme td.mat-cell,
.dark-theme .mat-cell,
.dark-theme mat-cell {
  background: transparent !important;
  color: var(--text) !important;
  border-bottom: 1px solid rgba(255, 255, 255, 0.03) !important;
}

.dark-theme .mat-row:nth-child(even) {
  background: rgba(255, 255, 255, 0.01) !important;
}

/* If Angular Material applies inline background from prebuilt theme, increase specificity */
body.dark-theme th.mat-header-cell,
body.dark-theme td.mat-cell {
  background-clip: padding-box !important;
}
